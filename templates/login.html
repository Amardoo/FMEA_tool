<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FMEA Tool - Login / Sign Up</title>
    <link rel="stylesheet" href="/static/style.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7fa;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .container {
            display: flex;
            width: 80%;
            max-width: 1200px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .left {
            flex: 1;
            padding: 40px;
            background-color: #007bff;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .left h1 {
            font-size: 28px;
            margin-bottom: 20px;
        }
        .left p {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 16px;
        }
        .right {
            flex: 1;
            padding: 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .tab-buttons {
            display: flex;
            margin-bottom: 20px;
        }
        .tab-btn {
            flex: 1;
            padding: 12px;
            border: none;
            background: #f0f2f5;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }
        .tab-btn.active {
            background: #007bff;
            color: white;
        }
        .form {
            display: none;
        }
        .form.active {
            display: block;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 16px;
        }
        button[type="submit"] {
            width: 100%;
            padding: 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }
        button[type="submit"]:hover {
            background-color: #0056b3;
        }
        .error {
            color: red;
            font-size: 14px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="left">
            <h1>About the FMEA Tool</h1>
            <p>This web-based FMEA (Failure Modes and Effects Analysis) tool is designed to systematically identify, assess, and prioritize risks in processes or products, with a focus on blood transfusion safety as outlined in the study "Risk Evaluation in Blood Transfusion Using Failure Mode and Effects Analysis" (2025).</p>
            <p>The tool allows users to enter failure modes, calculate Risk Priority Numbers (RPN), and visualize top risks through interactive charts and reports. It helps enhance patient safety by identifying critical failures and suggesting corrective actions.</p>
            <p>Key features include data entry forms, dynamic dashboards with risk visualizations, and exportable reports in PDF and CSV formats.</p>
            <p>Sign up or log in to start analyzing risks and improving processes.</p>
        </div>
        <div class="right">
            <div class="tab-buttons">
                <button class="tab-btn active" onclick="showForm('signin')">Sign In</button>
                <button class="tab-btn" onclick="showForm('signup')">Sign Up</button>
            </div>
            <form id="signin" class="form active" method="POST" action="/login">
                <input type="hidden" name="action" value="signin">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit">Sign In</button>
                {% if error %}
                    <p class="error">{{ error }}</p>
                {% endif %}
            </form>
            <form id="signup" class="form" method="POST" action="/login">
                <input type="hidden" name="action" value="signup">
                <div class="form-group">
                    <label for="new_username">Username</label>
                    <input type="text" id="new_username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="new_password">Password</label>
                    <input type="password" id="new_password" name="password" required>
                </div>
                <button type="submit">Sign Up</button>
                {% if error %}
                    <p class="error">{{ error }}</p>
                {% endif %}
            </form>
        </div>
    </div>
    <script>
        function showForm(formId) {
            document.querySelectorAll('.form').forEach(form => form.classList.remove('active'));
            document.getElementById(formId).classList.add('active');
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }
    </script>
</body>
</html>